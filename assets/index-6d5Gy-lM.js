(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const z={},Mt=[],qe=()=>{},la=()=>!1,rr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),sn=t=>t.startsWith("onUpdate:"),ve=Object.assign,rn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ca=Object.prototype.hasOwnProperty,K=(t,e)=>ca.call(t,e),U=Array.isArray,Ft=t=>ks(t)==="[object Map]",Kt=t=>ks(t)==="[object Set]",Pn=t=>ks(t)==="[object Date]",F=t=>typeof t=="function",ie=t=>typeof t=="string",He=t=>typeof t=="symbol",ee=t=>t!==null&&typeof t=="object",Li=t=>(ee(t)||F(t))&&F(t.then)&&F(t.catch),Di=Object.prototype.toString,ks=t=>Di.call(t),ua=t=>ks(t).slice(8,-1),Mi=t=>ks(t)==="[object Object]",nn=t=>ie(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ns=tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ha=/-(\w)/g,ut=nr(t=>t.replace(ha,(e,s)=>s?s.toUpperCase():"")),fa=/\B([A-Z])/g,Tt=nr(t=>t.replace(fa,"-$1").toLowerCase()),Fi=nr(t=>t.charAt(0).toUpperCase()+t.slice(1)),mr=nr(t=>t?`on${Fi(t)}`:""),ct=(t,e)=>!Object.is(t,e),Hs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},$r=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Js=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let jn;const ir=()=>jn||(jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(t){if(U(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ie(r)?_a(r):on(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ie(t)||ee(t))return t}const da=/;(?![^(]*\))/g,pa=/:([^]+)/,ga=/\/\*[^]*?\*\//g;function _a(t){const e={};return t.replace(ga,"").split(da).forEach(s=>{if(s){const r=s.split(pa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function or(t){let e="";if(ie(t))e=t;else if(U(t))for(let s=0;s<t.length;s++){const r=or(t[s]);r&&(e+=r+" ")}else if(ee(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const va="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ma=tn(va);function Ni(t){return!!t||t===""}function ya(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Ts(t[r],e[r]);return s}function Ts(t,e){if(t===e)return!0;let s=Pn(t),r=Pn(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=He(t),r=He(e),s||r)return t===e;if(s=U(t),r=U(e),s||r)return s&&r?ya(t,e):!1;if(s=ee(t),r=ee(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ts(t[o],e[o]))return!1}}return String(t)===String(e)}function an(t,e){return t.findIndex(s=>Ts(s,e))}const Bi=t=>!!(t&&t.__v_isRef===!0),le=t=>ie(t)?t:t==null?"":U(t)||ee(t)&&(t.toString===Di||!F(t.toString))?Bi(t)?le(t.value):JSON.stringify(t,qi,2):String(t),qi=(t,e)=>Bi(e)?qi(t,e.value):Ft(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[yr(r,i)+" =>"]=n,s),{})}:Kt(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>yr(s))}:He(e)?yr(e):ee(e)&&!U(e)&&!Mi(e)?String(e):e,yr=(t,e="")=>{var s;return He(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let be;class wa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=be,!e&&be&&(this.index=(be.scopes||(be.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=be;try{return be=this,e()}finally{be=s}}}on(){++this._on===1&&(this.prevScope=be,be=this)}off(){this._on>0&&--this._on===0&&(be=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ba(){return be}let X;const wr=new WeakSet;class Hi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,be&&be.active&&be.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wr.has(this)&&(wr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,In(this),Ki(this);const e=X,s=Ie;X=this,Ie=!0;try{return this.fn()}finally{Ji(this),X=e,Ie=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)un(e);this.deps=this.depsTail=void 0,In(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ur(this)&&this.run()}get dirty(){return Ur(this)}}let Vi=0,is,os;function Wi(t,e=!1){if(t.flags|=8,e){t.next=os,os=t;return}t.next=is,is=t}function ln(){Vi++}function cn(){if(--Vi>0)return;if(os){let e=os;for(os=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;is;){let e=is;for(is=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Ki(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ji(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),un(r),Sa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Ur(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(zi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function zi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===_s)||(t.globalVersion=_s,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Ur(t))))return;t.flags|=2;const e=t.dep,s=X,r=Ie;X=t,Ie=!0;try{Ki(t);const n=t.fn(t._value);(e.version===0||ct(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{X=s,Ie=r,Ji(t),t.flags&=-3}}function un(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)un(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Sa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ie=!0;const Gi=[];function Ze(){Gi.push(Ie),Ie=!1}function et(){const t=Gi.pop();Ie=t===void 0?!0:t}function In(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=X;X=void 0;try{e()}finally{X=s}}}let _s=0;class ka{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!X||!Ie||X===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==X)s=this.activeLink=new ka(X,this),X.deps?(s.prevDep=X.depsTail,X.depsTail.nextDep=s,X.depsTail=s):X.deps=X.depsTail=s,Qi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=X.depsTail,s.nextDep=void 0,X.depsTail.nextDep=s,X.depsTail=s,X.deps===s&&(X.deps=r)}return s}trigger(e){this.version++,_s++,this.notify(e)}notify(e){ln();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{cn()}}}function Qi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Qi(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Lr=new WeakMap,kt=Symbol(""),Dr=Symbol(""),vs=Symbol("");function he(t,e,s){if(Ie&&X){let r=Lr.get(t);r||Lr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new hn),n.map=r,n.key=s),n.track()}}function Qe(t,e,s,r,n,i){const o=Lr.get(t);if(!o){_s++;return}const a=l=>{l&&l.trigger()};if(ln(),e==="clear")o.forEach(a);else{const l=U(t),u=l&&nn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,d)=>{(d==="length"||d===vs||!He(d)&&d>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(vs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(kt)),Ft(t)&&a(o.get(Dr)));break;case"delete":l||(a(o.get(kt)),Ft(t)&&a(o.get(Dr)));break;case"set":Ft(t)&&a(o.get(kt));break}}cn()}function xt(t){const e=W(t);return e===t?e:(he(e,"iterate",vs),Oe(t)?e:e.map(ce))}function ar(t){return he(t=W(t),"iterate",vs),t}const Ta={__proto__:null,[Symbol.iterator](){return br(this,Symbol.iterator,ce)},concat(...t){return xt(this).concat(...t.map(e=>U(e)?xt(e):e))},entries(){return br(this,"entries",t=>(t[1]=ce(t[1]),t))},every(t,e){return We(this,"every",t,e,void 0,arguments)},filter(t,e){return We(this,"filter",t,e,s=>s.map(ce),arguments)},find(t,e){return We(this,"find",t,e,ce,arguments)},findIndex(t,e){return We(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return We(this,"findLast",t,e,ce,arguments)},findLastIndex(t,e){return We(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return We(this,"forEach",t,e,void 0,arguments)},includes(...t){return Sr(this,"includes",t)},indexOf(...t){return Sr(this,"indexOf",t)},join(t){return xt(this).join(t)},lastIndexOf(...t){return Sr(this,"lastIndexOf",t)},map(t,e){return We(this,"map",t,e,void 0,arguments)},pop(){return Xt(this,"pop")},push(...t){return Xt(this,"push",t)},reduce(t,...e){return Rn(this,"reduce",t,e)},reduceRight(t,...e){return Rn(this,"reduceRight",t,e)},shift(){return Xt(this,"shift")},some(t,e){return We(this,"some",t,e,void 0,arguments)},splice(...t){return Xt(this,"splice",t)},toReversed(){return xt(this).toReversed()},toSorted(t){return xt(this).toSorted(t)},toSpliced(...t){return xt(this).toSpliced(...t)},unshift(...t){return Xt(this,"unshift",t)},values(){return br(this,"values",ce)}};function br(t,e,s){const r=ar(t),n=r[e]();return r!==t&&!Oe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ea=Array.prototype;function We(t,e,s,r,n,i){const o=ar(t),a=o!==t&&!Oe(t),l=o[e];if(l!==Ea[e]){const h=l.apply(t,i);return a?ce(h):h}let u=s;o!==t&&(a?u=function(h,d){return s.call(this,ce(h),d,t)}:s.length>2&&(u=function(h,d){return s.call(this,h,d,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Rn(t,e,s,r){const n=ar(t);let i=s;return n!==t&&(Oe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,ce(a),l,t)}),n[e](i,...r)}function Sr(t,e,s){const r=W(t);he(r,"iterate",vs);const n=r[e](...s);return(n===-1||n===!1)&&pn(s[0])?(s[0]=W(s[0]),r[e](...s)):n}function Xt(t,e,s=[]){Ze(),ln();const r=W(t)[e].apply(t,s);return cn(),et(),r}const xa=tn("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(He));function Ca(t){He(t)||(t=String(t));const e=W(this);return he(e,"has",t),e.hasOwnProperty(t)}class Xi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Da:so:i?to:eo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=U(e);if(!n){let l;if(o&&(l=Ta[s]))return l;if(s==="hasOwnProperty")return Ca}const a=Reflect.get(e,s,fe(e)?e:r);return(He(s)?Yi.has(s):xa(s))||(n||he(e,"get",s),i)?a:fe(a)?o&&nn(s)?a:a.value:ee(a)?n?ro(a):lr(a):a}}class Zi extends Xi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=ht(i);if(!Oe(r)&&!ht(r)&&(i=W(i),r=W(r)),!U(e)&&fe(i)&&!fe(r))return l?!1:(i.value=r,!0)}const o=U(e)&&nn(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,fe(e)?e:n);return e===W(n)&&(o?ct(r,i)&&Qe(e,"set",s,r):Qe(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Qe(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!He(s)||!Yi.has(s))&&he(e,"has",s),r}ownKeys(e){return he(e,"iterate",U(e)?"length":kt),Reflect.ownKeys(e)}}class Oa extends Xi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Aa=new Zi,Pa=new Oa,ja=new Zi(!0);const Mr=t=>t,$s=t=>Reflect.getPrototypeOf(t);function Ia(t,e,s){return function(...r){const n=this.__v_raw,i=W(n),o=Ft(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Mr:e?zs:ce;return!e&&he(i,"iterate",l?Dr:kt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function Us(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ra(t,e){const s={get(n){const i=this.__v_raw,o=W(i),a=W(n);t||(ct(n,a)&&he(o,"get",n),he(o,"get",a));const{has:l}=$s(o),u=e?Mr:t?zs:ce;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&he(W(n),"iterate",kt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=W(i),a=W(n);return t||(ct(n,a)&&he(o,"has",n),he(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=W(a),u=e?Mr:t?zs:ce;return!t&&he(l,"iterate",kt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return ve(s,t?{add:Us("add"),set:Us("set"),delete:Us("delete"),clear:Us("clear")}:{add(n){!e&&!Oe(n)&&!ht(n)&&(n=W(n));const i=W(this);return $s(i).has.call(i,n)||(i.add(n),Qe(i,"add",n,n)),this},set(n,i){!e&&!Oe(i)&&!ht(i)&&(i=W(i));const o=W(this),{has:a,get:l}=$s(o);let u=a.call(o,n);u||(n=W(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?ct(i,c)&&Qe(o,"set",n,i):Qe(o,"add",n,i),this},delete(n){const i=W(this),{has:o,get:a}=$s(i);let l=o.call(i,n);l||(n=W(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Qe(i,"delete",n,void 0),u},clear(){const n=W(this),i=n.size!==0,o=n.clear();return i&&Qe(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ia(n,t,e)}),s}function fn(t,e){const s=Ra(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const $a={get:fn(!1,!1)},Ua={get:fn(!1,!0)},La={get:fn(!0,!1)};const eo=new WeakMap,to=new WeakMap,so=new WeakMap,Da=new WeakMap;function Ma(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fa(t){return t.__v_skip||!Object.isExtensible(t)?0:Ma(ua(t))}function lr(t){return ht(t)?t:dn(t,!1,Aa,$a,eo)}function Na(t){return dn(t,!1,ja,Ua,to)}function ro(t){return dn(t,!0,Pa,La,so)}function dn(t,e,s,r,n){if(!ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Fa(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Nt(t){return ht(t)?Nt(t.__v_raw):!!(t&&t.__v_isReactive)}function ht(t){return!!(t&&t.__v_isReadonly)}function Oe(t){return!!(t&&t.__v_isShallow)}function pn(t){return t?!!t.__v_raw:!1}function W(t){const e=t&&t.__v_raw;return e?W(e):t}function Ba(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&$r(t,"__v_skip",!0),t}const ce=t=>ee(t)?lr(t):t,zs=t=>ee(t)?ro(t):t;function fe(t){return t?t.__v_isRef===!0:!1}function Ae(t){return qa(t,!1)}function qa(t,e){return fe(t)?t:new Ha(t,e)}class Ha{constructor(e,s){this.dep=new hn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:W(e),this._value=s?e:ce(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Oe(e)||ht(e);e=r?e:W(e),ct(e,s)&&(this._rawValue=e,this._value=r?e:ce(e),this.dep.trigger())}}function Va(t){return fe(t)?t.value:t}const Wa={get:(t,e,s)=>e==="__v_raw"?t:Va(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return fe(n)&&!fe(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function no(t){return Nt(t)?t:new Proxy(t,Wa)}class Ka{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new hn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&X!==this)return Wi(this,!0),!0}get value(){const e=this.dep.track();return zi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ja(t,e,s=!1){let r,n;return F(t)?r=t:(r=t.get,n=t.set),new Ka(r,n,s)}const Ls={},Gs=new WeakMap;let wt;function za(t,e=!1,s=wt){if(s){let r=Gs.get(s);r||Gs.set(s,r=[]),r.push(t)}}function Ga(t,e,s=z){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=E=>n?E:Oe(E)||n===!1||n===0?Ye(E,1):Ye(E);let c,h,d,g,v=!1,k=!1;if(fe(t)?(h=()=>t.value,v=Oe(t)):Nt(t)?(h=()=>u(t),v=!0):U(t)?(k=!0,v=t.some(E=>Nt(E)||Oe(E)),h=()=>t.map(E=>{if(fe(E))return E.value;if(Nt(E))return u(E);if(F(E))return l?l(E,2):E()})):F(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Ze();try{d()}finally{et()}}const E=wt;wt=c;try{return l?l(t,3,[g]):t(g)}finally{wt=E}}:h=qe,e&&n){const E=h,M=n===!0?1/0:n;h=()=>Ye(E(),M)}const T=ba(),O=()=>{c.stop(),T&&T.active&&rn(T.effects,c)};if(i&&e){const E=e;e=(...M)=>{E(...M),O()}}let A=k?new Array(t.length).fill(Ls):Ls;const m=E=>{if(!(!(c.flags&1)||!c.dirty&&!E))if(e){const M=c.run();if(n||v||(k?M.some((V,te)=>ct(V,A[te])):ct(M,A))){d&&d();const V=wt;wt=c;try{const te=[M,A===Ls?void 0:k&&A[0]===Ls?[]:A,g];A=M,l?l(e,3,te):e(...te)}finally{wt=V}}}else c.run()};return a&&a(m),c=new Hi(h),c.scheduler=o?()=>o(m,!1):m,g=E=>za(E,!1,c),d=c.onStop=()=>{const E=Gs.get(c);if(E){if(l)l(E,4);else for(const M of E)M();Gs.delete(c)}},e?r?m(!0):A=c.run():o?o(m.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function Ye(t,e=1/0,s){if(e<=0||!ee(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,fe(t))Ye(t.value,e,s);else if(U(t))for(let r=0;r<t.length;r++)Ye(t[r],e,s);else if(Kt(t)||Ft(t))t.forEach(r=>{Ye(r,e,s)});else if(Mi(t)){for(const r in t)Ye(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ye(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Es(t,e,s,r){try{return r?t(...r):t()}catch(n){cr(n,e,s)}}function Ve(t,e,s,r){if(F(t)){const n=Es(t,e,s,r);return n&&Li(n)&&n.catch(i=>{cr(i,e,s)}),n}if(U(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ve(t[i],e,s,r));return n}}function cr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||z;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Ze(),Es(i,null,10,[t,l,u]),et();return}}Qa(t,s,n,r,o)}function Qa(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ge=[];let Me=-1;const Bt=[];let nt=null,Lt=0;const io=Promise.resolve();let Qs=null;function oo(t){const e=Qs||io;return t?e.then(this?t.bind(this):t):e}function Ya(t){let e=Me+1,s=ge.length;for(;e<s;){const r=e+s>>>1,n=ge[r],i=ms(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function gn(t){if(!(t.flags&1)){const e=ms(t),s=ge[ge.length-1];!s||!(t.flags&2)&&e>=ms(s)?ge.push(t):ge.splice(Ya(e),0,t),t.flags|=1,ao()}}function ao(){Qs||(Qs=io.then(co))}function Xa(t){U(t)?Bt.push(...t):nt&&t.id===-1?nt.splice(Lt+1,0,t):t.flags&1||(Bt.push(t),t.flags|=1),ao()}function $n(t,e,s=Me+1){for(;s<ge.length;s++){const r=ge[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ge.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lo(t){if(Bt.length){const e=[...new Set(Bt)].sort((s,r)=>ms(s)-ms(r));if(Bt.length=0,nt){nt.push(...e);return}for(nt=e,Lt=0;Lt<nt.length;Lt++){const s=nt[Lt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}nt=null,Lt=0}}const ms=t=>t.id==null?t.flags&2?-1:1/0:t.id;function co(t){try{for(Me=0;Me<ge.length;Me++){const e=ge[Me];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Es(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Me<ge.length;Me++){const e=ge[Me];e&&(e.flags&=-2)}Me=-1,ge.length=0,lo(),Qs=null,(ge.length||Bt.length)&&co()}}let Ce=null,uo=null;function Ys(t){const e=Ce;return Ce=t,uo=t&&t.type.__scopeId||null,e}function Za(t,e=Ce,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Hn(-1);const i=Ys(e);let o;try{o=t(...n)}finally{Ys(i),r._d&&Hn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Z(t,e){if(Ce===null)return t;const s=dr(Ce),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=z]=e[n];i&&(F(i)&&(i={mounted:i,updated:i}),i.deep&&Ye(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function vt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ze(),Ve(l,s,8,[t.el,a,t,e]),et())}}const el=Symbol("_vte"),tl=t=>t.__isTeleport;function _n(t,e){t.shapeFlag&6&&t.component?(t.transition=e,_n(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ho(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function as(t,e,s,r,n=!1){if(U(t)){t.forEach((v,k)=>as(v,e&&(U(e)?e[k]:e),s,r,n));return}if(ls(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&as(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?dr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===z?a.refs={}:a.refs,h=a.setupState,d=W(h),g=h===z?()=>!1:v=>K(d,v);if(u!=null&&u!==l&&(ie(u)?(c[u]=null,g(u)&&(h[u]=null)):fe(u)&&(u.value=null)),F(l))Es(l,a,12,[o,c]);else{const v=ie(l),k=fe(l);if(v||k){const T=()=>{if(t.f){const O=v?g(l)?h[l]:c[l]:l.value;n?U(O)&&rn(O,i):U(O)?O.includes(i)||O.push(i):v?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else v?(c[l]=o,g(l)&&(h[l]=o)):k&&(l.value=o,t.k&&(c[t.k]=o))};o?(T.id=-1,ke(T,s)):T()}}}ir().requestIdleCallback;ir().cancelIdleCallback;const ls=t=>!!t.type.__asyncLoader,fo=t=>t.type.__isKeepAlive;function sl(t,e){po(t,"a",e)}function rl(t,e){po(t,"da",e)}function po(t,e,s=_e){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ur(e,r,s),s){let n=s.parent;for(;n&&n.parent;)fo(n.parent.vnode)&&nl(r,e,s,n),n=n.parent}}function nl(t,e,s,r){const n=ur(e,t,r,!0);_o(()=>{rn(r[e],n)},s)}function ur(t,e,s=_e,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ze();const a=xs(s),l=Ve(e,s,t,o);return a(),et(),l});return r?n.unshift(i):n.push(i),i}}const tt=t=>(e,s=_e)=>{(!ws||t==="sp")&&ur(t,(...r)=>e(...r),s)},il=tt("bm"),go=tt("m"),ol=tt("bu"),al=tt("u"),ll=tt("bum"),_o=tt("um"),cl=tt("sp"),ul=tt("rtg"),hl=tt("rtc");function fl(t,e=_e){ur("ec",t,e)}const dl=Symbol.for("v-ndc");function Fr(t,e,s,r){let n;const i=s,o=U(t);if(o||ie(t)){const a=o&&Nt(t);let l=!1,u=!1;a&&(l=!Oe(t),u=ht(t),t=ar(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?zs(ce(t[c])):ce(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ee(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Nr=t=>t?Do(t)?dr(t):Nr(t.parent):null,cs=ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nr(t.parent),$root:t=>Nr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>mo(t),$forceUpdate:t=>t.f||(t.f=()=>{gn(t.update)}),$nextTick:t=>t.n||(t.n=oo.bind(t.proxy)),$watch:t=>Ul.bind(t)}),kr=(t,e)=>t!==z&&!t.__isScriptSetup&&K(t,e),pl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(kr(r,e))return o[e]=1,r[e];if(n!==z&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==z&&K(s,e))return o[e]=4,s[e];Br&&(o[e]=0)}}const c=cs[e];let h,d;if(c)return e==="$attrs"&&he(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==z&&K(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,K(d,e))return d[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return kr(n,e)?(n[e]=s,!0):r!==z&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==z&&K(t,o)||kr(e,o)||(a=i[0])&&K(a,o)||K(r,o)||K(cs,o)||K(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Un(t){return U(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Br=!0;function gl(t){const e=mo(t),s=t.proxy,r=t.ctx;Br=!1,e.beforeCreate&&Ln(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:v,activated:k,deactivated:T,beforeDestroy:O,beforeUnmount:A,destroyed:m,unmounted:E,render:M,renderTracked:V,renderTriggered:te,errorCaptured:st,serverPrefetch:As,expose:pt,inheritAttrs:zt,components:Ps,directives:js,filters:_r}=e;if(u&&_l(u,r,null),o)for(const se in o){const G=o[se];F(G)&&(r[se]=G.bind(s))}if(n){const se=n.call(s,s);ee(se)&&(t.data=lr(se))}if(Br=!0,i)for(const se in i){const G=i[se],gt=F(G)?G.bind(s,s):F(G.get)?G.get.bind(s,s):qe,Is=!F(G)&&F(G.set)?G.set.bind(s):qe,_t=Be({get:gt,set:Is});Object.defineProperty(r,se,{enumerable:!0,configurable:!0,get:()=>_t.value,set:Re=>_t.value=Re})}if(a)for(const se in a)vo(a[se],r,s,se);if(l){const se=F(l)?l.call(s):l;Reflect.ownKeys(se).forEach(G=>{Sl(G,se[G])})}c&&Ln(c,t,"c");function de(se,G){U(G)?G.forEach(gt=>se(gt.bind(s))):G&&se(G.bind(s))}if(de(il,h),de(go,d),de(ol,g),de(al,v),de(sl,k),de(rl,T),de(fl,st),de(hl,V),de(ul,te),de(ll,A),de(_o,E),de(cl,As),U(pt))if(pt.length){const se=t.exposed||(t.exposed={});pt.forEach(G=>{Object.defineProperty(se,G,{get:()=>s[G],set:gt=>s[G]=gt})})}else t.exposed||(t.exposed={});M&&t.render===qe&&(t.render=M),zt!=null&&(t.inheritAttrs=zt),Ps&&(t.components=Ps),js&&(t.directives=js),As&&ho(t)}function _l(t,e,s=qe){U(t)&&(t=qr(t));for(const r in t){const n=t[r];let i;ee(n)?"default"in n?i=Vs(n.from||r,n.default,!0):i=Vs(n.from||r):i=Vs(n),fe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ln(t,e,s){Ve(U(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function vo(t,e,s,r){let n=r.includes(".")?jo(s,r):()=>s[r];if(ie(t)){const i=e[t];F(i)&&us(n,i)}else if(F(t))us(n,t.bind(s));else if(ee(t))if(U(t))t.forEach(i=>vo(i,e,s,r));else{const i=F(t.handler)?t.handler.bind(s):e[t.handler];F(i)&&us(n,i,t)}}function mo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Xs(l,u,o,!0)),Xs(l,e,o)),ee(e)&&i.set(e,l),l}function Xs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Xs(t,i,s,!0),n&&n.forEach(o=>Xs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=vl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const vl={data:Dn,props:Mn,emits:Mn,methods:ss,computed:ss,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:ss,directives:ss,watch:yl,provide:Dn,inject:ml};function Dn(t,e){return e?t?function(){return ve(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function ml(t,e){return ss(qr(t),qr(e))}function qr(t){if(U(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function pe(t,e){return t?[...new Set([].concat(t,e))]:e}function ss(t,e){return t?ve(Object.create(null),t,e):e}function Mn(t,e){return t?U(t)&&U(e)?[...new Set([...t,...e])]:ve(Object.create(null),Un(t),Un(e??{})):e}function yl(t,e){if(!t)return e;if(!e)return t;const s=ve(Object.create(null),t);for(const r in e)s[r]=pe(t[r],e[r]);return s}function yo(){return{app:null,config:{isNativeTag:la,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wl=0;function bl(t,e){return function(r,n=null){F(r)||(r=ve({},r)),n!=null&&!ee(n)&&(n=null);const i=yo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:wl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:tc,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&F(c.install)?(o.add(c),c.install(u,...h)):F(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const g=u._ceVNode||xe(r,n);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(g,c,d),l=!0,u._container=c,c.__vue_app__=u,dr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ve(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=qt;qt=u;try{return c()}finally{qt=h}}};return u}}let qt=null;function Sl(t,e){if(_e){let s=_e.provides;const r=_e.parent&&_e.parent.provides;r===s&&(s=_e.provides=Object.create(r)),s[t]=e}}function Vs(t,e,s=!1){const r=_e||Ce;if(r||qt){let n=qt?qt._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&F(e)?e.call(r&&r.proxy):e}}const wo={},bo=()=>Object.create(wo),So=t=>Object.getPrototypeOf(t)===wo;function kl(t,e,s,r=!1){const n={},i=bo();t.propsDefaults=Object.create(null),ko(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Na(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Tl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=W(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(hr(t.emitsOptions,d))continue;const g=e[d];if(l)if(K(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const v=ut(d);n[v]=Hr(l,a,v,g,t,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{ko(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!K(e,h)&&((c=Tt(h))===h||!K(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Hr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!K(e,h))&&(delete i[h],u=!0)}u&&Qe(t.attrs,"set","")}function ko(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ns(l))continue;const u=e[l];let c;n&&K(n,c=ut(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:hr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=W(s),u=a||z;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Hr(n,l,h,u[h],t,!K(u,h))}}return o}function Hr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&F(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=xs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Tt(s))&&(r=!0))}return r}const El=new WeakMap;function To(t,e,s=!1){const r=s?El:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!F(t)){const c=h=>{l=!0;const[d,g]=To(h,e,!0);ve(o,d),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ee(t)&&r.set(t,Mt),Mt;if(U(i))for(let c=0;c<i.length;c++){const h=ut(i[c]);Fn(h)&&(o[h]=z)}else if(i)for(const c in i){const h=ut(c);if(Fn(h)){const d=i[c],g=o[h]=U(d)||F(d)?{type:d}:ve({},d),v=g.type;let k=!1,T=!0;if(U(v))for(let O=0;O<v.length;++O){const A=v[O],m=F(A)&&A.name;if(m==="Boolean"){k=!0;break}else m==="String"&&(T=!1)}else k=F(v)&&v.name==="Boolean";g[0]=k,g[1]=T,(k||K(g,"default"))&&a.push(h)}}const u=[o,a];return ee(t)&&r.set(t,u),u}function Fn(t){return t[0]!=="$"&&!ns(t)}const vn=t=>t[0]==="_"||t==="$stable",mn=t=>U(t)?t.map(Fe):[Fe(t)],xl=(t,e,s)=>{if(e._n)return e;const r=Za((...n)=>mn(e(...n)),s);return r._c=!1,r},Eo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(vn(n))continue;const i=t[n];if(F(i))e[n]=xl(n,i,r);else if(i!=null){const o=mn(i);e[n]=()=>o}}},xo=(t,e)=>{const s=mn(e);t.slots.default=()=>s},Co=(t,e,s)=>{for(const r in e)(s||!vn(r))&&(t[r]=e[r])},Cl=(t,e,s)=>{const r=t.slots=bo();if(t.vnode.shapeFlag&32){const n=e.__;n&&$r(r,"__",n,!0);const i=e._;i?(Co(r,e,s),s&&$r(r,"_",i,!0)):Eo(e,r)}else e&&xo(t,e)},Ol=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=z;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Co(n,e,s):(i=!e.$stable,Eo(e,n)),o=e}else e&&(xo(t,e),o={default:1});if(i)for(const a in n)!vn(a)&&o[a]==null&&delete n[a]},ke=ql;function Al(t){return Pl(t)}function Pl(t,e){const s=ir();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=qe,insertStaticContent:v}=t,k=(f,p,_,b=null,y=null,w=null,P=void 0,C=null,x=!!p.dynamicChildren)=>{if(f===p)return;f&&!Zt(f,p)&&(b=Rs(f),Re(f,y,w,!0),f=null),p.patchFlag===-2&&(x=!1,p.dynamicChildren=null);const{type:S,ref:$,shapeFlag:j}=p;switch(S){case fr:T(f,p,_,b);break;case ft:O(f,p,_,b);break;case Er:f==null&&A(p,_,b,P);break;case ne:Ps(f,p,_,b,y,w,P,C,x);break;default:j&1?M(f,p,_,b,y,w,P,C,x):j&6?js(f,p,_,b,y,w,P,C,x):(j&64||j&128)&&S.process(f,p,_,b,y,w,P,C,x,Qt)}$!=null&&y?as($,f&&f.ref,w,p||f,!p):$==null&&f&&f.ref!=null&&as(f.ref,null,w,f,!0)},T=(f,p,_,b)=>{if(f==null)r(p.el=a(p.children),_,b);else{const y=p.el=f.el;p.children!==f.children&&u(y,p.children)}},O=(f,p,_,b)=>{f==null?r(p.el=l(p.children||""),_,b):p.el=f.el},A=(f,p,_,b)=>{[f.el,f.anchor]=v(f.children,p,_,b,f.el,f.anchor)},m=({el:f,anchor:p},_,b)=>{let y;for(;f&&f!==p;)y=d(f),r(f,_,b),f=y;r(p,_,b)},E=({el:f,anchor:p})=>{let _;for(;f&&f!==p;)_=d(f),n(f),f=_;n(p)},M=(f,p,_,b,y,w,P,C,x)=>{p.type==="svg"?P="svg":p.type==="math"&&(P="mathml"),f==null?V(p,_,b,y,w,P,C,x):As(f,p,y,w,P,C,x)},V=(f,p,_,b,y,w,P,C)=>{let x,S;const{props:$,shapeFlag:j,transition:R,dirs:L}=f;if(x=f.el=o(f.type,w,$&&$.is,$),j&8?c(x,f.children):j&16&&st(f.children,x,null,b,y,Tr(f,w),P,C),L&&vt(f,null,b,"created"),te(x,f,f.scopeId,P,b),$){for(const Q in $)Q!=="value"&&!ns(Q)&&i(x,Q,null,$[Q],w,b);"value"in $&&i(x,"value",null,$.value,w),(S=$.onVnodeBeforeMount)&&De(S,b,f)}L&&vt(f,null,b,"beforeMount");const B=jl(y,R);B&&R.beforeEnter(x),r(x,p,_),((S=$&&$.onVnodeMounted)||B||L)&&ke(()=>{S&&De(S,b,f),B&&R.enter(x),L&&vt(f,null,b,"mounted")},y)},te=(f,p,_,b,y)=>{if(_&&g(f,_),b)for(let w=0;w<b.length;w++)g(f,b[w]);if(y){let w=y.subTree;if(p===w||Ro(w.type)&&(w.ssContent===p||w.ssFallback===p)){const P=y.vnode;te(f,P,P.scopeId,P.slotScopeIds,y.parent)}}},st=(f,p,_,b,y,w,P,C,x=0)=>{for(let S=x;S<f.length;S++){const $=f[S]=C?it(f[S]):Fe(f[S]);k(null,$,p,_,b,y,w,P,C)}},As=(f,p,_,b,y,w,P)=>{const C=p.el=f.el;let{patchFlag:x,dynamicChildren:S,dirs:$}=p;x|=f.patchFlag&16;const j=f.props||z,R=p.props||z;let L;if(_&&mt(_,!1),(L=R.onVnodeBeforeUpdate)&&De(L,_,p,f),$&&vt(p,f,_,"beforeUpdate"),_&&mt(_,!0),(j.innerHTML&&R.innerHTML==null||j.textContent&&R.textContent==null)&&c(C,""),S?pt(f.dynamicChildren,S,C,_,b,Tr(p,y),w):P||G(f,p,C,null,_,b,Tr(p,y),w,!1),x>0){if(x&16)zt(C,j,R,_,y);else if(x&2&&j.class!==R.class&&i(C,"class",null,R.class,y),x&4&&i(C,"style",j.style,R.style,y),x&8){const B=p.dynamicProps;for(let Q=0;Q<B.length;Q++){const J=B[Q],me=j[J],ye=R[J];(ye!==me||J==="value")&&i(C,J,me,ye,y,_)}}x&1&&f.children!==p.children&&c(C,p.children)}else!P&&S==null&&zt(C,j,R,_,y);((L=R.onVnodeUpdated)||$)&&ke(()=>{L&&De(L,_,p,f),$&&vt(p,f,_,"updated")},b)},pt=(f,p,_,b,y,w,P)=>{for(let C=0;C<p.length;C++){const x=f[C],S=p[C],$=x.el&&(x.type===ne||!Zt(x,S)||x.shapeFlag&198)?h(x.el):_;k(x,S,$,null,b,y,w,P,!0)}},zt=(f,p,_,b,y)=>{if(p!==_){if(p!==z)for(const w in p)!ns(w)&&!(w in _)&&i(f,w,p[w],null,y,b);for(const w in _){if(ns(w))continue;const P=_[w],C=p[w];P!==C&&w!=="value"&&i(f,w,C,P,y,b)}"value"in _&&i(f,"value",p.value,_.value,y)}},Ps=(f,p,_,b,y,w,P,C,x)=>{const S=p.el=f?f.el:a(""),$=p.anchor=f?f.anchor:a("");let{patchFlag:j,dynamicChildren:R,slotScopeIds:L}=p;L&&(C=C?C.concat(L):L),f==null?(r(S,_,b),r($,_,b),st(p.children||[],_,$,y,w,P,C,x)):j>0&&j&64&&R&&f.dynamicChildren?(pt(f.dynamicChildren,R,_,y,w,P,C),(p.key!=null||y&&p===y.subTree)&&Oo(f,p,!0)):G(f,p,_,$,y,w,P,C,x)},js=(f,p,_,b,y,w,P,C,x)=>{p.slotScopeIds=C,f==null?p.shapeFlag&512?y.ctx.activate(p,_,b,P,x):_r(p,_,b,y,w,P,x):En(f,p,x)},_r=(f,p,_,b,y,w,P)=>{const C=f.component=Gl(f,b,y);if(fo(f)&&(C.ctx.renderer=Qt),Ql(C,!1,P),C.asyncDep){if(y&&y.registerDep(C,de,P),!f.el){const x=C.subTree=xe(ft);O(null,x,p,_)}}else de(C,f,p,_,y,w,P)},En=(f,p,_)=>{const b=p.component=f.component;if(Nl(f,p,_))if(b.asyncDep&&!b.asyncResolved){se(b,p,_);return}else b.next=p,b.update();else p.el=f.el,b.vnode=p},de=(f,p,_,b,y,w,P)=>{const C=()=>{if(f.isMounted){let{next:j,bu:R,u:L,parent:B,vnode:Q}=f;{const Ue=Ao(f);if(Ue){j&&(j.el=Q.el,se(f,j,P)),Ue.asyncDep.then(()=>{f.isUnmounted||C()});return}}let J=j,me;mt(f,!1),j?(j.el=Q.el,se(f,j,P)):j=Q,R&&Hs(R),(me=j.props&&j.props.onVnodeBeforeUpdate)&&De(me,B,j,Q),mt(f,!0);const ye=Bn(f),$e=f.subTree;f.subTree=ye,k($e,ye,h($e.el),Rs($e),f,y,w),j.el=ye.el,J===null&&Bl(f,ye.el),L&&ke(L,y),(me=j.props&&j.props.onVnodeUpdated)&&ke(()=>De(me,B,j,Q),y)}else{let j;const{el:R,props:L}=p,{bm:B,m:Q,parent:J,root:me,type:ye}=f,$e=ls(p);mt(f,!1),B&&Hs(B),!$e&&(j=L&&L.onVnodeBeforeMount)&&De(j,J,p),mt(f,!0);{me.ce&&me.ce._def.shadowRoot!==!1&&me.ce._injectChildStyle(ye);const Ue=f.subTree=Bn(f);k(null,Ue,_,b,f,y,w),p.el=Ue.el}if(Q&&ke(Q,y),!$e&&(j=L&&L.onVnodeMounted)){const Ue=p;ke(()=>De(j,J,Ue),y)}(p.shapeFlag&256||J&&ls(J.vnode)&&J.vnode.shapeFlag&256)&&f.a&&ke(f.a,y),f.isMounted=!0,p=_=b=null}};f.scope.on();const x=f.effect=new Hi(C);f.scope.off();const S=f.update=x.run.bind(x),$=f.job=x.runIfDirty.bind(x);$.i=f,$.id=f.uid,x.scheduler=()=>gn($),mt(f,!0),S()},se=(f,p,_)=>{p.component=f;const b=f.vnode.props;f.vnode=p,f.next=null,Tl(f,p.props,b,_),Ol(f,p.children,_),Ze(),$n(f),et()},G=(f,p,_,b,y,w,P,C,x=!1)=>{const S=f&&f.children,$=f?f.shapeFlag:0,j=p.children,{patchFlag:R,shapeFlag:L}=p;if(R>0){if(R&128){Is(S,j,_,b,y,w,P,C,x);return}else if(R&256){gt(S,j,_,b,y,w,P,C,x);return}}L&8?($&16&&Gt(S,y,w),j!==S&&c(_,j)):$&16?L&16?Is(S,j,_,b,y,w,P,C,x):Gt(S,y,w,!0):($&8&&c(_,""),L&16&&st(j,_,b,y,w,P,C,x))},gt=(f,p,_,b,y,w,P,C,x)=>{f=f||Mt,p=p||Mt;const S=f.length,$=p.length,j=Math.min(S,$);let R;for(R=0;R<j;R++){const L=p[R]=x?it(p[R]):Fe(p[R]);k(f[R],L,_,null,y,w,P,C,x)}S>$?Gt(f,y,w,!0,!1,j):st(p,_,b,y,w,P,C,x,j)},Is=(f,p,_,b,y,w,P,C,x)=>{let S=0;const $=p.length;let j=f.length-1,R=$-1;for(;S<=j&&S<=R;){const L=f[S],B=p[S]=x?it(p[S]):Fe(p[S]);if(Zt(L,B))k(L,B,_,null,y,w,P,C,x);else break;S++}for(;S<=j&&S<=R;){const L=f[j],B=p[R]=x?it(p[R]):Fe(p[R]);if(Zt(L,B))k(L,B,_,null,y,w,P,C,x);else break;j--,R--}if(S>j){if(S<=R){const L=R+1,B=L<$?p[L].el:b;for(;S<=R;)k(null,p[S]=x?it(p[S]):Fe(p[S]),_,B,y,w,P,C,x),S++}}else if(S>R)for(;S<=j;)Re(f[S],y,w,!0),S++;else{const L=S,B=S,Q=new Map;for(S=B;S<=R;S++){const Se=p[S]=x?it(p[S]):Fe(p[S]);Se.key!=null&&Q.set(Se.key,S)}let J,me=0;const ye=R-B+1;let $e=!1,Ue=0;const Yt=new Array(ye);for(S=0;S<ye;S++)Yt[S]=0;for(S=L;S<=j;S++){const Se=f[S];if(me>=ye){Re(Se,y,w,!0);continue}let Le;if(Se.key!=null)Le=Q.get(Se.key);else for(J=B;J<=R;J++)if(Yt[J-B]===0&&Zt(Se,p[J])){Le=J;break}Le===void 0?Re(Se,y,w,!0):(Yt[Le-B]=S+1,Le>=Ue?Ue=Le:$e=!0,k(Se,p[Le],_,null,y,w,P,C,x),me++)}const On=$e?Il(Yt):Mt;for(J=On.length-1,S=ye-1;S>=0;S--){const Se=B+S,Le=p[Se],An=Se+1<$?p[Se+1].el:b;Yt[S]===0?k(null,Le,_,An,y,w,P,C,x):$e&&(J<0||S!==On[J]?_t(Le,_,An,2):J--)}}},_t=(f,p,_,b,y=null)=>{const{el:w,type:P,transition:C,children:x,shapeFlag:S}=f;if(S&6){_t(f.component.subTree,p,_,b);return}if(S&128){f.suspense.move(p,_,b);return}if(S&64){P.move(f,p,_,Qt);return}if(P===ne){r(w,p,_);for(let j=0;j<x.length;j++)_t(x[j],p,_,b);r(f.anchor,p,_);return}if(P===Er){m(f,p,_);return}if(b!==2&&S&1&&C)if(b===0)C.beforeEnter(w),r(w,p,_),ke(()=>C.enter(w),y);else{const{leave:j,delayLeave:R,afterLeave:L}=C,B=()=>{f.ctx.isUnmounted?n(w):r(w,p,_)},Q=()=>{j(w,()=>{B(),L&&L()})};R?R(w,B,Q):Q()}else r(w,p,_)},Re=(f,p,_,b=!1,y=!1)=>{const{type:w,props:P,ref:C,children:x,dynamicChildren:S,shapeFlag:$,patchFlag:j,dirs:R,cacheIndex:L}=f;if(j===-2&&(y=!1),C!=null&&(Ze(),as(C,null,_,f,!0),et()),L!=null&&(p.renderCache[L]=void 0),$&256){p.ctx.deactivate(f);return}const B=$&1&&R,Q=!ls(f);let J;if(Q&&(J=P&&P.onVnodeBeforeUnmount)&&De(J,p,f),$&6)aa(f.component,_,b);else{if($&128){f.suspense.unmount(_,b);return}B&&vt(f,null,p,"beforeUnmount"),$&64?f.type.remove(f,p,_,Qt,b):S&&!S.hasOnce&&(w!==ne||j>0&&j&64)?Gt(S,p,_,!1,!0):(w===ne&&j&384||!y&&$&16)&&Gt(x,p,_),b&&xn(f)}(Q&&(J=P&&P.onVnodeUnmounted)||B)&&ke(()=>{J&&De(J,p,f),B&&vt(f,null,p,"unmounted")},_)},xn=f=>{const{type:p,el:_,anchor:b,transition:y}=f;if(p===ne){oa(_,b);return}if(p===Er){E(f);return}const w=()=>{n(_),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(f.shapeFlag&1&&y&&!y.persisted){const{leave:P,delayLeave:C}=y,x=()=>P(_,w);C?C(f.el,w,x):x()}else w()},oa=(f,p)=>{let _;for(;f!==p;)_=d(f),n(f),f=_;n(p)},aa=(f,p,_)=>{const{bum:b,scope:y,job:w,subTree:P,um:C,m:x,a:S,parent:$,slots:{__:j}}=f;Nn(x),Nn(S),b&&Hs(b),$&&U(j)&&j.forEach(R=>{$.renderCache[R]=void 0}),y.stop(),w&&(w.flags|=8,Re(P,f,p,_)),C&&ke(C,p),ke(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Gt=(f,p,_,b=!1,y=!1,w=0)=>{for(let P=w;P<f.length;P++)Re(f[P],p,_,b,y)},Rs=f=>{if(f.shapeFlag&6)return Rs(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=d(f.anchor||f.el),_=p&&p[el];return _?d(_):p};let vr=!1;const Cn=(f,p,_)=>{f==null?p._vnode&&Re(p._vnode,null,null,!0):k(p._vnode||null,f,p,null,null,null,_),p._vnode=f,vr||(vr=!0,$n(),lo(),vr=!1)},Qt={p:k,um:Re,m:_t,r:xn,mt:_r,mc:st,pc:G,pbc:pt,n:Rs,o:t};return{render:Cn,hydrate:void 0,createApp:bl(Cn)}}function Tr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function mt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function jl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Oo(t,e,s=!1){const r=t.children,n=e.children;if(U(r)&&U(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=it(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Oo(o,a)),a.type===fr&&(a.el=o.el),a.type===ft&&!a.el&&(a.el=o.el)}}function Il(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ao(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ao(e)}function Nn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Rl=Symbol.for("v-scx"),$l=()=>Vs(Rl);function us(t,e,s){return Po(t,e,s)}function Po(t,e,s=z){const{immediate:r,deep:n,flush:i,once:o}=s,a=ve({},s),l=e&&r||!e&&i!=="post";let u;if(ws){if(i==="sync"){const g=$l();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=qe,g.resume=qe,g.pause=qe,g}}const c=_e;a.call=(g,v,k)=>Ve(g,c,v,k);let h=!1;i==="post"?a.scheduler=g=>{ke(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,v)=>{v?g():gn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const d=Ga(t,e,a);return ws&&(u?u.push(d):l&&d()),d}function Ul(t,e,s){const r=this.proxy,n=ie(t)?t.includes(".")?jo(r,t):()=>r[t]:t.bind(r,r);let i;F(e)?i=e:(i=e.handler,s=e);const o=xs(this),a=Po(n,i.bind(r),s);return o(),a}function jo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Ll=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ut(e)}Modifiers`]||t[`${Tt(e)}Modifiers`];function Dl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||z;let n=s;const i=e.startsWith("update:"),o=i&&Ll(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ie(c)?c.trim():c)),o.number&&(n=s.map(Js)));let a,l=r[a=mr(e)]||r[a=mr(ut(e))];!l&&i&&(l=r[a=mr(Tt(e))]),l&&Ve(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(u,t,6,n)}}function Io(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!F(t)){const l=u=>{const c=Io(u,e,!0);c&&(a=!0,ve(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ee(t)&&r.set(t,null),null):(U(i)?i.forEach(l=>o[l]=null):ve(o,i),ee(t)&&r.set(t,o),o)}function hr(t,e){return!t||!rr(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,Tt(e))||K(t,e))}function Bn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:g,ctx:v,inheritAttrs:k}=t,T=Ys(t);let O,A;try{if(s.shapeFlag&4){const E=n||r,M=E;O=Fe(u.call(M,E,c,h,g,d,v)),A=a}else{const E=e;O=Fe(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),A=e.props?a:Ml(a)}}catch(E){hs.length=0,cr(E,t,1),O=xe(ft)}let m=O;if(A&&k!==!1){const E=Object.keys(A),{shapeFlag:M}=m;E.length&&M&7&&(i&&E.some(sn)&&(A=Fl(A,i)),m=Ht(m,A,!1,!0))}return s.dirs&&(m=Ht(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(s.dirs):s.dirs),s.transition&&_n(m,s.transition),O=m,Ys(T),O}const Ml=t=>{let e;for(const s in t)(s==="class"||s==="style"||rr(s))&&((e||(e={}))[s]=t[s]);return e},Fl=(t,e)=>{const s={};for(const r in t)(!sn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Nl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?qn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!hr(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?qn(r,o,u):!0:!!o;return!1}function qn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!hr(s,i))return!0}return!1}function Bl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ro=t=>t.__isSuspense;function ql(t,e){e&&e.pendingBranch?U(t)?e.effects.push(...t):e.effects.push(t):Xa(t)}const ne=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),Er=Symbol.for("v-stc"),hs=[];let Te=null;function q(t=!1){hs.push(Te=t?null:[])}function Hl(){hs.pop(),Te=hs[hs.length-1]||null}let ys=1;function Hn(t,e=!1){ys+=t,t<0&&Te&&e&&(Te.hasOnce=!0)}function $o(t){return t.dynamicChildren=ys>0?Te||Mt:null,Hl(),ys>0&&Te&&Te.push(t),t}function H(t,e,s,r,n,i){return $o(I(t,e,s,r,n,i,!0))}function Vr(t,e,s,r,n){return $o(xe(t,e,s,r,n,!0))}function Uo(t){return t?t.__v_isVNode===!0:!1}function Zt(t,e){return t.type===e.type&&t.key===e.key}const Lo=({key:t})=>t??null,Ws=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ie(t)||fe(t)||F(t)?{i:Ce,r:t,k:e,f:!!s}:t:null);function I(t,e=null,s=null,r=0,n=null,i=t===ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Lo(e),ref:e&&Ws(e),scopeId:uo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ce};return a?(yn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ie(s)?8:16),ys>0&&!o&&Te&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Te.push(l),l}const xe=Vl;function Vl(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===dl)&&(t=ft),Uo(t)){const a=Ht(t,e,!0);return s&&yn(a,s),ys>0&&!i&&Te&&(a.shapeFlag&6?Te[Te.indexOf(t)]=a:Te.push(a)),a.patchFlag=-2,a}if(ec(t)&&(t=t.__vccOpts),e){e=Wl(e);let{class:a,style:l}=e;a&&!ie(a)&&(e.class=or(a)),ee(l)&&(pn(l)&&!U(l)&&(l=ve({},l)),e.style=on(l))}const o=ie(t)?1:Ro(t)?128:tl(t)?64:ee(t)?4:F(t)?2:0;return I(t,e,s,r,n,o,i,!0)}function Wl(t){return t?pn(t)||So(t)?ve({},t):t:null}function Ht(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Kl(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Lo(u),ref:e&&e.ref?s&&i?U(i)?i.concat(Ws(e)):[i,Ws(e)]:Ws(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ht(t.ssContent),ssFallback:t.ssFallback&&Ht(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_n(c,l.clone(c)),c}function Ne(t=" ",e=0){return xe(fr,null,t,e)}function Ge(t="",e=!1){return e?(q(),Vr(ft,null,t)):xe(ft,null,t)}function Fe(t){return t==null||typeof t=="boolean"?xe(ft):U(t)?xe(ne,null,t.slice()):Uo(t)?it(t):xe(fr,null,String(t))}function it(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ht(t)}function yn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(U(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),yn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!So(e)?e._ctx=Ce:n===3&&Ce&&(Ce.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else F(e)?(e={default:e,_ctx:Ce},s=32):(e=String(e),r&64?(s=16,e=[Ne(e)]):s=8);t.children=e,t.shapeFlag|=s}function Kl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=or([e.class,r.class]));else if(n==="style")e.style=on([e.style,r.style]);else if(rr(n)){const i=e[n],o=r[n];o&&i!==o&&!(U(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function De(t,e,s,r=null){Ve(t,e,7,[s,r])}const Jl=yo();let zl=0;function Gl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Jl,i={uid:zl++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:To(r,n),emitsOptions:Io(r,n),emit:null,emitted:null,propsDefaults:z,inheritAttrs:r.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Dl.bind(null,i),t.ce&&t.ce(i),i}let _e=null,Zs,Wr;{const t=ir(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Zs=e("__VUE_INSTANCE_SETTERS__",s=>_e=s),Wr=e("__VUE_SSR_SETTERS__",s=>ws=s)}const xs=t=>{const e=_e;return Zs(t),t.scope.on(),()=>{t.scope.off(),Zs(e)}},Vn=()=>{_e&&_e.scope.off(),Zs(null)};function Do(t){return t.vnode.shapeFlag&4}let ws=!1;function Ql(t,e=!1,s=!1){e&&Wr(e);const{props:r,children:n}=t.vnode,i=Do(t);kl(t,r,i,e),Cl(t,n,s||e);const o=i?Yl(t,e):void 0;return e&&Wr(!1),o}function Yl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,pl);const{setup:r}=s;if(r){Ze();const n=t.setupContext=r.length>1?Zl(t):null,i=xs(t),o=Es(r,t,0,[t.props,n]),a=Li(o);if(et(),i(),(a||t.sp)&&!ls(t)&&ho(t),a){if(o.then(Vn,Vn),e)return o.then(l=>{Wn(t,l)}).catch(l=>{cr(l,t,0)});t.asyncDep=o}else Wn(t,o)}else Mo(t)}function Wn(t,e,s){F(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ee(e)&&(t.setupState=no(e)),Mo(t)}function Mo(t,e,s){const r=t.type;t.render||(t.render=r.render||qe);{const n=xs(t);Ze();try{gl(t)}finally{et(),n()}}}const Xl={get(t,e){return he(t,"get",""),t[e]}};function Zl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Xl),slots:t.slots,emit:t.emit,expose:e}}function dr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(no(Ba(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in cs)return cs[s](t)},has(e,s){return s in e||s in cs}})):t.proxy}function ec(t){return F(t)&&"__vccOpts"in t}const Be=(t,e)=>Ja(t,e,ws),tc="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kr;const Kn=typeof window<"u"&&window.trustedTypes;if(Kn)try{Kr=Kn.createPolicy("vue",{createHTML:t=>t})}catch{}const Fo=Kr?t=>Kr.createHTML(t):t=>t,sc="http://www.w3.org/2000/svg",rc="http://www.w3.org/1998/Math/MathML",Je=typeof document<"u"?document:null,Jn=Je&&Je.createElement("template"),nc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Je.createElementNS(sc,t):e==="mathml"?Je.createElementNS(rc,t):s?Je.createElement(t,{is:s}):Je.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Je.createTextNode(t),createComment:t=>Je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Jn.innerHTML=Fo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Jn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ic=Symbol("_vtc");function oc(t,e,s){const r=t[ic];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const zn=Symbol("_vod"),ac=Symbol("_vsh"),lc=Symbol(""),cc=/(^|;)\s*display\s*:/;function uc(t,e,s){const r=t.style,n=ie(s);let i=!1;if(s&&!n){if(e)if(ie(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ks(r,a,"")}else for(const o in e)s[o]==null&&Ks(r,o,"");for(const o in s)o==="display"&&(i=!0),Ks(r,o,s[o])}else if(n){if(e!==s){const o=r[lc];o&&(s+=";"+o),r.cssText=s,i=cc.test(s)}}else e&&t.removeAttribute("style");zn in t&&(t[zn]=i?r.display:"",t[ac]&&(r.display="none"))}const Gn=/\s*!important$/;function Ks(t,e,s){if(U(s))s.forEach(r=>Ks(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=hc(t,e);Gn.test(s)?t.setProperty(Tt(r),s.replace(Gn,""),"important"):t[r]=s}}const Qn=["Webkit","Moz","ms"],xr={};function hc(t,e){const s=xr[e];if(s)return s;let r=ut(e);if(r!=="filter"&&r in t)return xr[e]=r;r=Fi(r);for(let n=0;n<Qn.length;n++){const i=Qn[n]+r;if(i in t)return xr[e]=i}return e}const Yn="http://www.w3.org/1999/xlink";function Xn(t,e,s,r,n,i=ma(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Yn,e.slice(6,e.length)):t.setAttributeNS(Yn,e,s):s==null||i&&!Ni(s)?t.removeAttribute(e):t.setAttribute(e,i?"":He(s)?String(s):s)}function Zn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Fo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ni(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function at(t,e,s,r){t.addEventListener(e,s,r)}function fc(t,e,s,r){t.removeEventListener(e,s,r)}const ei=Symbol("_vei");function dc(t,e,s,r,n=null){const i=t[ei]||(t[ei]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=pc(e);if(r){const u=i[e]=vc(r,n);at(t,a,u,l)}else o&&(fc(t,a,o,l),i[e]=void 0)}}const ti=/(?:Once|Passive|Capture)$/;function pc(t){let e;if(ti.test(t)){e={};let r;for(;r=t.match(ti);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Tt(t.slice(2)),e]}let Cr=0;const gc=Promise.resolve(),_c=()=>Cr||(gc.then(()=>Cr=0),Cr=Date.now());function vc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ve(mc(r,s.value),e,5,[r])};return s.value=t,s.attached=_c(),s}function mc(t,e){if(U(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const si=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?oc(t,r,o):e==="style"?uc(t,s,r):rr(e)?sn(e)||dc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wc(t,e,r,o))?(Zn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Xn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ie(r))?Zn(t,ut(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Xn(t,e,r,o))};function wc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&si(e)&&F(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return si(e)&&ie(s)?!1:e in t}const Vt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return U(e)?s=>Hs(e,s):e};function bc(t){t.target.composing=!0}function ri(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xe=Symbol("_assign"),re={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Xe]=Vt(n);const i=r||n.props&&n.props.type==="number";at(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Js(a)),t[Xe](a)}),s&&at(t,"change",()=>{t.value=t.value.trim()}),e||(at(t,"compositionstart",bc),at(t,"compositionend",ri),at(t,"change",ri))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Xe]=Vt(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Js(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},er={deep:!0,created(t,e,s){t[Xe]=Vt(s),at(t,"change",()=>{const r=t._modelValue,n=bs(t),i=t.checked,o=t[Xe];if(U(r)){const a=an(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Kt(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(No(t,i))})},mounted:ni,beforeUpdate(t,e,s){t[Xe]=Vt(s),ni(t,e,s)}};function ni(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(U(e))n=an(e,r.props.value)>-1;else if(Kt(e))n=e.has(r.props.value);else{if(e===s)return;n=Ts(e,No(t,!0))}t.checked!==n&&(t.checked=n)}const ii={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Kt(e);at(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Js(bs(o)):bs(o));t[Xe](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,oo(()=>{t._assigning=!1})}),t[Xe]=Vt(r)},mounted(t,{value:e}){oi(t,e)},beforeUpdate(t,e,s){t[Xe]=Vt(s)},updated(t,{value:e}){t._assigning||oi(t,e)}};function oi(t,e){const s=t.multiple,r=U(e);if(!(s&&!r&&!Kt(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=bs(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=an(e,a)>-1}else o.selected=e.has(a);else if(Ts(bs(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function bs(t){return"_value"in t?t._value:t.value}function No(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Sc=ve({patchProp:yc},nc);let ai;function kc(){return ai||(ai=Al(Sc))}const Tc=(...t)=>{const e=kc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=xc(r);if(!n)return;const i=e._component;!F(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Ec(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Ec(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xc(t){return ie(t)?document.querySelector(t):t}const Cc="modulepreload",Oc=function(t){return"/coffee/"+t},li={},Cs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let u=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};var o=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");n=u(s.map(c=>{if(c=Oc(c),c in li)return;li[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Cc,h||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((v,k)=>{g.addEventListener("load",v),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return n.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ac=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Jt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class wn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Pc extends wn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ci extends wn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ui extends wn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Jr||(Jr={}));var jc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ic{constructor(e,{headers:s={},customFetch:r,region:n=Jr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Ac(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return jc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(k=>{throw new Pc(k)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new ci(h);if(!h.ok)throw new ui(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield h.json():g==="application/octet-stream"?v=yield h.blob():g==="text/event-stream"?v=h:g==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof ui||n instanceof ci?n.context:void 0}}})}}function Rc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $c(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var oe={},Ct={},Ot={},At={},Pt={},jt={},Uc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wt=Uc();const Lc=Wt.fetch,Bo=Wt.fetch.bind(Wt),qo=Wt.Headers,Dc=Wt.Request,Mc=Wt.Response,Jt=Object.freeze(Object.defineProperty({__proto__:null,Headers:qo,Request:Dc,Response:Mc,default:Bo,fetch:Lc},Symbol.toStringTag,{value:"Module"})),Fc=$c(Jt);var Ds={},hi;function Ho(){if(hi)return Ds;hi=1,Object.defineProperty(Ds,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ds.default=t,Ds}var fi;function Vo(){if(fi)return jt;fi=1;var t=jt&&jt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jt,"__esModule",{value:!0});const e=t(Fc),s=t(Ho());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let g=null,v=null,k=null,T=u.status,O=u.statusText;if(u.ok){if(this.method!=="HEAD"){const M=await u.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=M:v=JSON.parse(M))}const m=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&E&&E.length>1&&(k=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,k=null,T=406,O="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const m=await u.text();try{g=JSON.parse(m),Array.isArray(g)&&u.status===404&&(v=[],g=null,T=200,O="OK")}catch{u.status===404&&m===""?(T=204,O="No Content"):g={message:m}}if(g&&this.isMaybeSingle&&(!((d=g?.details)===null||d===void 0)&&d.includes("0 rows"))&&(g=null,T=200,O="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:v,count:k,status:T,statusText:O}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return jt.default=r,jt}var di;function Wo(){if(di)return Pt;di=1;var t=Pt&&Pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pt,"__esModule",{value:!0});const e=t(Vo());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Pt.default=s,Pt}var pi;function bn(){if(pi)return At;pi=1;var t=At&&At.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(At,"__esModule",{value:!0});const e=t(Wo());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return At.default=s,At}var gi;function Ko(){if(gi)return Ot;gi=1;var t=Ot&&Ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ot,"__esModule",{value:!0});const e=t(bn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ot.default=s,Ot}var es={},ts={},_i;function Nc(){return _i||(_i=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.version=void 0,ts.version="0.0.0-automated"),ts}var vi;function Bc(){if(vi)return es;vi=1,Object.defineProperty(es,"__esModule",{value:!0}),es.DEFAULT_HEADERS=void 0;const t=Nc();return es.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},es}var mi;function qc(){if(mi)return Ct;mi=1;var t=Ct&&Ct.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ct,"__esModule",{value:!0});const e=t(Ko()),s=t(bn()),r=Bc();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([k,T])=>T!==void 0).map(([k,T])=>[k,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([k,T])=>{d.searchParams.append(k,T)})):(h="POST",g=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new s.default({method:h,url:d,headers:v,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Ct.default=n,Ct}var yi;function Hc(){if(yi)return oe;yi=1;var t=oe&&oe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostgrestError=oe.PostgrestBuilder=oe.PostgrestTransformBuilder=oe.PostgrestFilterBuilder=oe.PostgrestQueryBuilder=oe.PostgrestClient=void 0;const e=t(qc());oe.PostgrestClient=e.default;const s=t(Ko());oe.PostgrestQueryBuilder=s.default;const r=t(bn());oe.PostgrestFilterBuilder=r.default;const n=t(Wo());oe.PostgrestTransformBuilder=n.default;const i=t(Vo());oe.PostgrestBuilder=i.default;const o=t(Ho());return oe.PostgrestError=o.default,oe.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},oe}var Vc=Hc();const Wc=Rc(Vc),{PostgrestClient:Kc,PostgrestQueryBuilder:df,PostgrestFilterBuilder:pf,PostgrestTransformBuilder:gf,PostgrestBuilder:_f,PostgrestError:vf}=Wc;function Jc(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const zc=Jc(),Gc="2.11.15",Qc=`realtime-js/${Gc}`,Yc="1.0.0",Jo=1e4,Xc=1e3;var fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fs||(fs={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(je||(je={}));var zr;(function(t){t.websocket="websocket"})(zr||(zr={}));var St;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(St||(St={}));class Zc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class zo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const wi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=eu(o,t,e,n),i),{})},eu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?Go(i,o):Gr(o)},Go=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return nu(e,s)}switch(t){case Y.bool:return tu(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return su(e);case Y.json:case Y.jsonb:return ru(e);case Y.timestamp:return iu(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Gr(e);default:return Gr(e)}},Gr=t=>t,tu=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},su=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ru=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Go(e,a))}return t},iu=t=>typeof t=="string"?t.replace(" ","T"):t,Qo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Or{constructor(e,s,r={},n=Jo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bi||(bi={}));class ds{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ds.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ds.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ds.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(T=>T.presence_ref),g=h.map(T=>T.presence_ref),v=c.filter(T=>g.indexOf(T.presence_ref)<0),k=h.filter(T=>d.indexOf(T.presence_ref)<0);v.length>0&&(a[u]=v),k.length>0&&(l[u]=k)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Si;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Si||(Si={}));var ki;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ki||(ki={}));var ze;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ze||(ze={}));class Sn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Or(this,je.join,this.params,this.timeout),this.rejoinTimer=new zo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(je.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ds(this),this.broadcastEndpointURL=Qo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e?.(ze.CHANNEL_ERROR,c)),this._onClose(()=>e?.(ze.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e?.(ze.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,g=(h=d?.length)!==null&&h!==void 0?h:0,v=[];for(let k=0;k<g;k++){const T=d[k],{filter:{event:O,schema:A,table:m,filter:E}}=T,M=c&&c[k];if(M&&M.event===O&&M.schema===A&&M.table===m&&M.filter===E)v.push(Object.assign(Object.assign({},T),{id:M.id}));else{this.unsubscribe(),this.state=ue.errored,e?.(ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ze.SUBSCRIBED);return}}).receive("error",c=>{this.state=ue.errored,e?.(ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e?.(ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Or(this,je.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Or(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=je;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,s,r);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var v,k,T;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((T=(k=g.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,k,T,O,A,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,M=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((k=s.ids)===null||k===void 0?void 0:k.includes(E))&&(M==="*"||M?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const E=(A=(O=g?.filter)===null||O===void 0?void 0:O.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return E==="*"||E===((m=s?.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:k,table:T,commit_timestamp:O,type:A,errors:m}=v;d=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:O,eventType:A,new:{},old:{},errors:m}),this._getPayloadRecords(v))}g.callback(d,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Sn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(je.close,{},e)}_onError(e){this._on(je.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=wi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=wi(e.columns,e.old_record)),s}}const Ti=()=>{},ou=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class au{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jo,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ti,this.ref=0,this.logger=Ti,this.conn=null,this.sendBuffer=[],this.serializer=new Zc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Cs(async()=>{const{default:l}=await Promise.resolve().then(()=>Jt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${zr.websocket}`,this.httpEndpoint=Qo(e),s?.transport?this.transport=s.transport:this.transport=null,s?.params&&(this.params=s.params),s?.timeout&&(this.timeout=s.timeout),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s?.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s?.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s?.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s?.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s?.fetch),s?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=s?.worker||!1,this.workerUrl=s?.workerUrl}this.accessToken=s?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=zc),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return St.Connecting;case fs.open:return St.Open;case fs.closing:return St.Closing;default:return St.Closed}}isConnected(){return this.connectionState()===St.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Sn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Qc};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(je.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Xc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(je.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([ou],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class kn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lu extends kn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qr extends kn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var cu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Yo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Jt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},uu=()=>cu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>Jt),void 0)).Response:Response}),Yr=t=>{if(Array.isArray(t))return t.map(s=>Yr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Yr(r)}),e};var Et=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ar=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hu=(t,e,s)=>Et(void 0,void 0,void 0,function*(){const r=yield uu();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{e(new lu(Ar(n),t.status||500))}).catch(n=>{e(new Qr(Ar(n),n))}):e(new Qr(Ar(t),t))}),fu=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Os(t,e,s,r,n,i){return Et(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,fu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>hu(l,a,r))})})}function tr(t,e,s,r){return Et(this,void 0,void 0,function*(){return Os(t,"GET",e,s,r)})}function ot(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return Os(t,"POST",e,r,n,s)})}function du(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return Os(t,"PUT",e,r,n,s)})}function pu(t,e,s,r){return Et(this,void 0,void 0,function*(){return Os(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Xo(t,e,s,r,n){return Et(this,void 0,void 0,function*(){return Os(t,"DELETE",e,r,n,s)})}var we=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ei={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _u{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Yo(n)}uploadOrUpdate(e,s,r,n){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ei),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,s,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ei.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new kn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(e,s,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return we(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}copy(e,s,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ot(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return we(this,void 0,void 0,function*(){try{const n=yield ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}download(e,s){return we(this,void 0,void 0,function*(){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield tr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(e){return we(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield tr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yr(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield pu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof Qr){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}list(e,s,r){return we(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},gu),s),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const vu="2.7.1",mu={"X-Client-Info":`storage-js/${vu}`};var It=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class yu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},mu),s),this.fetch=Yo(r)}listBuckets(){return It(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return It(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return It(this,void 0,void 0,function*(){try{return{data:yield du(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}deleteBucket(e){return It(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}}class wu extends yu{constructor(e,s={},r){super(e,s,r)}from(e){return new _u(this.url,this.headers,e,this.fetch)}}const bu="2.50.5";let rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";const Su={"X-Client-Info":`supabase-js-${rs}/${bu}`},ku={headers:Su},Tu={schema:"public"},Eu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xu={};var Cu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ou=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bo:e=fetch,(...s)=>e(...s)},Au=()=>typeof Headers>"u"?qo:Headers,Pu=(t,e,s)=>{const r=Ou(s),n=Au();return(i,o)=>Cu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var ju=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Iu(t){return t.endsWith("/")?t:t+"/"}function Ru(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ju(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Zo="2.70.0",Dt=30*1e3,Xr=3,Pr=Xr*Dt,$u="http://localhost:9999",Uu="supabase.auth.token",Lu={"X-Client-Info":`gotrue-js/${Zo}`},Zr="X-Supabase-Api-Version",ea={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Du=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mu=6e5;class Tn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Fu extends Tn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Nu(t){return D(t)&&t.name==="AuthApiError"}class ta extends Tn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class dt extends Tn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class rt extends dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bu(t){return D(t)&&t.name==="AuthSessionMissingError"}class Ms extends dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fs extends dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends dt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qu(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class xi extends dt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class en extends dt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function jr(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Ci extends dt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class ps extends dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oi=` 	
\r=`.split(""),Hu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oi.length;e+=1)t[Oi[e].charCodeAt(0)]=-2;for(let e=0;e<sr.length;e+=1)t[sr[e].charCodeAt(0)]=e;return t})();function Ai(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(sr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(sr[r]),e.queuedBits-=6}}function sa(t,e,s){const r=Hu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Ku(o,r,s)};for(let o=0;o<t.length;o+=1)sa(t.charCodeAt(o),n,i);return e.join("")}function Vu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Vu(r,e)}}function Ku(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ju(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)sa(t.charCodeAt(n),s,r);return new Uint8Array(e)}function zu(t){const e=[];return Wu(t,s=>e.push(s)),new Uint8Array(e)}function Gu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Ai(n,s,r)),Ai(null,s,r),e.join("")}function Qu(t){return Math.round(Date.now()/1e3)+t}function Yu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pe=()=>typeof window<"u"&&typeof document<"u",yt={tested:!1,writable:!1},gs=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yt.tested)return yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yt.tested=!0,yt.writable=!0}catch{yt.tested=!0,yt.writable=!1}return yt.writable};function Xu(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ra=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Jt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Zu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",na=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Bs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},qs=async(t,e)=>{await t.removeItem(e)};class pr{constructor(){this.promise=new pr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}pr.promiseConstructor=Promise;function Ir(t){const e=t.split(".");if(e.length!==3)throw new ps("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Du.test(e[r]))throw new ps("JWT not in base64url format");return{header:JSON.parse(Pi(e[0])),payload:JSON.parse(Pi(e[1])),signature:Ju(e[2]),raw:{header:e[0],payload:e[1]}}}async function eh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function th(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function sh(t){return("0"+t.toString(16)).substr(-2)}function rh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,sh).join("")}async function nh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ih(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await nh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rt(t,e,s=!1){const r=rh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await na(t,`${e}-code-verifier`,n);const i=await ih(r);return[i,r===i?"plain":"s256"]}const oh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ah(t){const e=t.headers.get(Zr);if(!e||!e.match(oh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ch(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $t(t){if(!uh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fh=[502,503,504];async function ji(t){var e;if(!Zu(t))throw new en(bt(t),0);if(fh.includes(t.status))throw new en(bt(t),t.status);let s;try{s=await t.json()}catch(i){throw new ta(bt(i),i)}let r;const n=ah(t);if(n&&n.getTime()>=ea["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ci(bt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ci(bt(s),t.status,s.weak_password.reasons);throw new Fu(bt(s),t.status||500,r)}const dh=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function N(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[Zr]||(i[Zr]=ea["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ph(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function ph(t,e,s,r,n,i){const o=dh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new en(bt(l),0)}if(a.ok||await ji(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await ji(l)}}function Ke(t){var e;let s=null;mh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Qu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ii(t){const e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gh(t){return{data:t,error:null}}function _h(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=hh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function vh(t){return t}function mh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rr=["global","local","others"];var yh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class wh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ra(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Rr[0]){if(Rr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rr.join(", ")}`);try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:lt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=yh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:_h,redirectTo:s?.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:vh});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(v.split(";")[1].split("=")[1]);u[`${T}Page`]=k}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$t(e);try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lt})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){$t(e);try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:lt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){$t(e);try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:lt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$t(e.userId);try{const{data:s,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){$t(e.userId),$t(e.id);try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}const bh={getItem:t=>gs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{gs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{gs()&&globalThis.localStorage.removeItem(t)}};function Ri(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Sh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ut={debug:!!(globalThis&&gs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ia extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kh extends ia{}async function Th(t,e,s){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ut.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Sh();const Eh={url:$u,storageKey:Uu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $i(t,e,s){return await s()}class Ss{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Eh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new wh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ra(n.fetch),this.lock=n.lock||$i,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Pe()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Th:this.lock=$i,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:gs()?this.storage=bh:(this.memoryStorage={},this.storage=Ri(this.memoryStorage)):(this.memoryStorage={},this.storage=Ri(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Xu(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Pe()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return D(s)?{error:s}:{error:new ta("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ke}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Rt(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:c,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Ke})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ke})}else throw new Fs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ii})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Ii})}else throw new Fs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,d,g;let v,k;if("message"in e)v=e.message,k=e.signature;else{const{chain:T,wallet:O,statement:A,options:m}=e;let E;if(Pe())if(typeof O=="object")E=O;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))E=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!m?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=O}const M=new URL((s=m?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in E&&E.signIn){const V=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),A?{statement:A}:null));let te;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")te=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)te=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)v=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),k=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${M.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(n=(r=m?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=m?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const V=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=V}}try{const{data:T,error:O}=await N(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Gu(k)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ke});if(O)throw O;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Ms}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:O})}catch(T){if(D(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const s=await Bs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ke});if(await qs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ke}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ms}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Rt(this.storage,this.storageKey));const{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:c}}throw new Fs("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ke});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Rt(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gh})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new rt;const{error:n}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await N(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new Fs("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Pr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:lt})})}catch(s){if(D(s))return Bu(s)&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new rt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Rt(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:lt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Ir(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new rt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Pe())throw new Ns("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ns(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new xi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xi("No code detected.");const{data:A,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ns("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=Dt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=d-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:k,error:T}=await this._getUser(i);if(T)throw T;const O={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Bs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Nu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await qs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Yu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Rt(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Pe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await th(async n=>(n>0&&await eh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ke})),(n,i)=>{const o=200*Math.pow(2,n);return i&&jr(i)&&Date.now()+o-r<Dt})}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Pe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Bs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Pr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Pr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),jr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new pr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return jr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await na(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await qs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Dt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Dt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Dt}ms, refresh threshold is ${Xr} ticks`),n<=Xr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ia)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Rt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=e?.factors||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ir(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Mu>Date.now()))return r;const{data:n,error:i}=await N(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new ps("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new ps("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Ir(r);if(lh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=ch(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,zu(`${a}.${l}`)))throw new ps("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}Ss.nextInstanceID=0;const xh=Ss;class Ch extends xh{constructor(e){super(e)}}var Oh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ah{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Iu(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Tu,realtime:xu,auth:Object.assign(Object.assign({},Eu),{storageKey:u}),global:ku},h=Ru(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Pu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kc(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new Ic(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Oh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ch({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new au(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ph=(t,e,s)=>new Ah(t,e,s),jh="https://vrasvqmlpdqogghtkqfu.supabase.co",Ih="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyYXN2cW1scGRxb2dnaHRrcWZ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzNTQ5ODgsImV4cCI6MjA2NTkzMDk4OH0.K5wuITvCrQdCvfsRRpWZnFtZ3cvHLAdXhudBxiP9hAc",Ee=Ph(jh,Ih),Rh={key:0},$h={key:1},Uh={__name:"Authentication",emits:["user-changed"],setup(t,{emit:e}){const s=Ae(""),r=Ae(""),n=Ae(null),i=e,o=async()=>{const{data:c}=await Ee.auth.getUser();n.value=c.user};us(n,c=>{i("user-changed",c)});const a=async()=>{const{error:c}=await Ee.auth.signInWithPassword({email:s.value,password:r.value});c?alert(c.message):await o()},l=async()=>{const{error:c}=await Ee.auth.signUp({email:s.value,password:r.value});alert(c?c.message:"Check your email to confirm!")},u=async()=>{await Ee.auth.signOut(),n.value=null};return go(async()=>{await o(),i("user-changed",n.value)}),(c,h)=>n.value?(q(),H("div",$h,[I("p",null,"✅ Logged in as: "+le(n.value.email),1),I("button",{onClick:u},"Log Out")])):(q(),H("div",Rh,[h[2]||(h[2]=I("h2",null,"🔒 Login",-1)),Z(I("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>s.value=d),placeholder:"Email"},null,512),[[re,s.value]]),Z(I("input",{"onUpdate:modelValue":h[1]||(h[1]=d=>r.value=d),placeholder:"Password",type:"password"},null,512),[[re,r.value]]),I("button",{onClick:a},"Log In"),I("button",{onClick:l},"Sign Up")]))}},gr=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Lh={key:1,class:"coffee-card",style:{border:"2px dashed #aaa",padding:"1rem",margin:"1rem","border-radius":"8px"}},Dh={style:{display:"flex",gap:"0.5rem"}},Mh=["src"],Fh={__name:"CoffeeForm",setup(t){const e=Ae(!1),s=Ae([]),r=async()=>{const{data:h}=await Ee.from("coffee_beans").select("*");s.value=h||[]};r();const n=Ae({name:"",origin:"",shop_url:"",shop_name:"",shop_logo:"",in_green_container:!1,in_grey_container:!1,flavor:"",recipe_in_grams:null,recipe_out_grams:null,recipe_time_seconds:"",recipe_temperature_c:null,notes:""}),i=()=>{try{const h=new URL(n.value.shop_url);n.value.shop_name=h.hostname.replace("www.","").split(".")[0],n.value.shop_logo=`https://www.google.com/s2/favicons?domain=${h.hostname}`}catch{console.warn("Invalid shop URL")}},o=()=>{n.value={name:"",origin:"",shop_url:"",shop_name:"",shop_logo:"",in_green_container:!1,in_grey_container:!1,flavor:"",recipe_in_grams:null,recipe_out_grams:null,recipe_time_seconds:"",recipe_temperature_c:null,notes:""}},a=()=>{const h=[];if(n.value.in_green_container){const d=s.value.find(g=>g.in_green_container);d&&h.push({container:"green",coffee:d})}if(n.value.in_grey_container){const d=s.value.find(g=>g.in_grey_container);d&&h.push({container:"grey",coffee:d})}for(const{container:d,coffee:g}of h)if(!confirm(`Container "${d}" is already used by "${g.name}". Replace it?`))return!1;return!0},l=async()=>{const{data:{user:h}}=await Ee.auth.getUser();if(!h){alert("❌ You must be logged in to save coffee.");return}if(!a())return;n.value.recipe_ratio=c();const{error:d}=await Ee.from("coffee_beans").insert({...n.value,user_id:h.id});d?alert("❌ Failed to save coffee: "+d.message):(alert("✅ Coffee saved!"),o(),e.value=!1,r())},u=()=>{confirm("Are you sure you want to discard this coffee entry?")&&(o(),e.value=!1)},c=()=>{const h=parseFloat(n.value.recipe_in_grams),d=parseFloat(n.value.recipe_out_grams);return!h||!d?"":(d/h).toFixed(2)};return(h,d)=>(q(),H("div",null,[e.value?Ge("",!0):(q(),H("button",{key:0,onClick:d[0]||(d[0]=g=>e.value=!0)},"➕ Add Coffee")),e.value?(q(),H("div",Lh,[I("div",Dh,[I("img",{src:n.value.shop_logo,alt:"shop",width:"16",height:"16"},null,8,Mh),Z(I("input",{"onUpdate:modelValue":d[1]||(d[1]=g=>n.value.name=g),placeholder:"Coffee Name"},null,512),[[re,n.value.name]]),Z(I("input",{"onUpdate:modelValue":d[2]||(d[2]=g=>n.value.shop_url=g),placeholder:"Shop URL",onBlur:i},null,544),[[re,n.value.shop_url]])]),Z(I("input",{"onUpdate:modelValue":d[3]||(d[3]=g=>n.value.origin=g),placeholder:"Origin",style:{width:"100%"}},null,512),[[re,n.value.origin]]),Z(I("input",{"onUpdate:modelValue":d[4]||(d[4]=g=>n.value.flavor=g),placeholder:"Flavor",style:{width:"100%"}},null,512),[[re,n.value.flavor]]),I("div",null,[d[14]||(d[14]=I("strong",null,"Containers:",-1)),I("label",null,[Z(I("input",{type:"checkbox","onUpdate:modelValue":d[5]||(d[5]=g=>n.value.in_green_container=g)},null,512),[[er,n.value.in_green_container]]),d[12]||(d[12]=Ne(" 🟩 Green"))]),I("label",null,[Z(I("input",{type:"checkbox","onUpdate:modelValue":d[6]||(d[6]=g=>n.value.in_grey_container=g)},null,512),[[er,n.value.in_grey_container]]),d[13]||(d[13]=Ne(" ⬜ Grey"))])]),I("div",null,[d[15]||(d[15]=I("strong",null,"Recipe:",-1)),Z(I("input",{type:"number",step:"0.1","onUpdate:modelValue":d[7]||(d[7]=g=>n.value.recipe_in_grams=g),placeholder:"In (g)"},null,512),[[re,n.value.recipe_in_grams,void 0,{number:!0}]]),d[16]||(d[16]=Ne(" → ")),Z(I("input",{type:"number",step:"0.1","onUpdate:modelValue":d[8]||(d[8]=g=>n.value.recipe_out_grams=g),placeholder:"Out (g)"},null,512),[[re,n.value.recipe_out_grams,void 0,{number:!0}]]),Z(I("input",{type:"text","onUpdate:modelValue":d[9]||(d[9]=g=>n.value.recipe_time_seconds=g),placeholder:"Time (s)"},null,512),[[re,n.value.recipe_time_seconds]]),Z(I("input",{type:"number","onUpdate:modelValue":d[10]||(d[10]=g=>n.value.recipe_temperature_c=g),placeholder:"Temp (°C)"},null,512),[[re,n.value.recipe_temperature_c]])]),Z(I("textarea",{"onUpdate:modelValue":d[11]||(d[11]=g=>n.value.notes=g),placeholder:"Notes",rows:"3",style:{width:"100%"}},null,512),[[re,n.value.notes]]),I("div",{style:{"margin-top":"1rem"}},[I("button",{onClick:l},"💾 Save Coffee"),I("button",{onClick:u},"❌ Cancel")])])):Ge("",!0)]))}},Nh=gr(Fh,[["__scopeId","data-v-53dbeda7"]]),Bh={class:"filter-panel",style:{"margin-bottom":"1rem"}},qh=["value"],Hh=["value"],Vh={style:{"margin-top":"0.5rem","font-size":"0.9rem",color:"#555"}},Wh={__name:"FilterPanel",props:{origins:Array,shops:Array,filteredCount:Number,totalCount:Number},emits:["filter-change"],setup(t,{emit:e}){const s=e,r=lr({green:!1,grey:!1,origin:"",shop:""});return us(r,()=>{s("filter-change",{...r})},{deep:!0}),(n,i)=>(q(),H(ne,null,[I("div",Bh,[i[8]||(i[8]=I("h3",null,"🔍 Filter Coffees",-1)),I("label",null,[Z(I("input",{type:"checkbox","onUpdate:modelValue":i[0]||(i[0]=o=>r.green=o)},null,512),[[er,r.green]]),i[4]||(i[4]=Ne(" Green Container "))]),I("label",null,[Z(I("input",{type:"checkbox","onUpdate:modelValue":i[1]||(i[1]=o=>r.grey=o)},null,512),[[er,r.grey]]),i[5]||(i[5]=Ne(" Grey Container "))]),Z(I("select",{"onUpdate:modelValue":i[2]||(i[2]=o=>r.origin=o)},[i[6]||(i[6]=I("option",{value:""},"All Origins",-1)),(q(!0),H(ne,null,Fr(t.origins,o=>(q(),H("option",{key:o,value:o},le(o),9,qh))),128))],512),[[ii,r.origin]]),Z(I("select",{"onUpdate:modelValue":i[3]||(i[3]=o=>r.shop=o)},[i[7]||(i[7]=I("option",{value:""},"All Shops",-1)),(q(!0),H(ne,null,Fr(t.shops,o=>(q(),H("option",{key:o,value:o},le(o),9,Hh))),128))],512),[[ii,r.shop]])]),I("div",Vh," Showing "+le(t.filteredCount)+" of "+le(t.totalCount)+" coffees ",1)],64))}},Kh=["disabled"],Jh={__name:"Container",props:{color:{type:String,required:!0},assigned:Boolean,activeCoffee:Object,coffee:Object,isLoggedIn:Boolean},emits:["update-container"],setup(t,{emit:e}){const s=t,r=e,n=Be(()=>s.color.charAt(0).toUpperCase()+s.color.slice(1)),i=Be(()=>s.color==="green"?"🟩":"⬜"),o=()=>{if(!s.isLoggedIn)return;if(s.assigned){r("update-container",{coffee:s.coffee,container:s.color,assign:!1});return}const a=s.activeCoffee;if(a&&a.id!==s.coffee.id){const l=`Container "${s.color}" is already used by "${a.name}". Replace it?`;if(!confirm(l))return}r("update-container",{coffee:s.coffee,container:s.color,assign:!0})};return(a,l)=>(q(),H("button",{class:or(["container-button",{active:t.assigned,inactive:!t.assigned}]),disabled:!t.isLoggedIn,onClick:o},le(i.value)+" "+le(n.value),11,Kh))}},Ui=gr(Jh,[["__scopeId","data-v-4be76ae1"]]),zh={class:"coffee-card",style:{border:"1px solid #ccc",padding:"1rem",margin:"1rem","border-radius":"8px",position:"relative","padding-right":"3.5rem"}},Gh={key:0,class:"icon-actions"},Qh={style:{display:"flex","align-items":"center",gap:"0.5rem"}},Yh=["src"],Xh={style:{color:"gray"}},Zh={style:{"margin-top":"0.5rem"}},ef={style:{"margin-top":"0.5rem"}},tf={key:0},sf={key:1},rf={key:2},nf={key:3,style:{"margin-top":"1rem"}},of={key:4,style:{"margin-top":"1rem",display:"flex","justify-content":"flex-end",gap:"0.5rem"}},af={__name:"CoffeeCard",props:{coffee:Object,isLoggedIn:Boolean,containerStatus:{type:Object,default:()=>({green:null,grey:null})}},emits:["archive","unarchive","update-container","deleted"],setup(t,{emit:e}){const s=t,r=e,n=Ae(!1),i=Ae(!1),o=Ae({...s.coffee}),a=()=>{n.value=!n.value},l=Be(()=>{const O=s.coffee.recipe_in_grams;return n.value?(O/2).toFixed(1):O}),u=Be(()=>{const O=s.coffee.recipe_out_grams;return n.value?(O/2).toFixed(1):O}),c=Be(()=>s.coffee.in_green_container||s.coffee.in_grey_container),h=O=>{r("update-container",O)},d=()=>{o.value={...s.coffee},i.value=!0},g=()=>{confirm("Discard all changes?")&&(i.value=!1)},v=async()=>{const{error:O}=await Ee.from("coffee_beans").update({...o.value}).eq("id",s.coffee.id);O?alert("❌ Failed to save changes: "+O.message):(alert("✅ Changes saved!"),i.value=!1)},k=()=>{try{const O=new URL(o.value.shop_url);o.value.shop_name=O.hostname.replace("www.","").split(".")[0],o.value.shop_logo=`https://www.google.com/s2/favicons?domain=${O.hostname}`}catch{console.warn("Invalid URL")}},T=async()=>{if(!confirm(`Are you sure you want to delete "${s.coffee.name}"?`))return;const{error:O}=await Ee.from("coffee_beans").delete().eq("id",s.coffee.id);O?alert("❌ Failed to delete: "+O.message):r("deleted")};return(O,A)=>(q(),H("div",zh,[t.isLoggedIn&&!i.value?(q(),H("div",Gh,[I("button",{onClick:d},"✏️"),I("button",{onClick:T},"🗑")])):Ge("",!0),I("div",Qh,[I("img",{src:o.value.shop_logo,alt:"shop logo",width:"16",height:"16"},null,8,Yh),i.value?(q(),H(ne,{key:0},[Z(I("input",{"onUpdate:modelValue":A[0]||(A[0]=m=>o.value.name=m),placeholder:"Coffee Name"},null,512),[[re,o.value.name]]),Z(I("input",{"onUpdate:modelValue":A[1]||(A[1]=m=>o.value.shop_url=m),placeholder:"Shop URL",onBlur:k},null,544),[[re,o.value.shop_url]])],64)):(q(),H(ne,{key:1},[I("strong",null,le(t.coffee.name),1),I("span",Xh,"("+le(t.coffee.shop_name)+")",1)],64))]),I("p",null,[A[11]||(A[11]=I("strong",null,"Origin:",-1)),i.value?Z((q(),H("input",{key:0,"onUpdate:modelValue":A[2]||(A[2]=m=>o.value.origin=m),placeholder:"Origin"},null,512)),[[re,o.value.origin]]):(q(),H(ne,{key:1},[Ne(le(t.coffee.origin),1)],64))]),I("p",null,[A[12]||(A[12]=I("strong",null,"Flavor:",-1)),i.value?Z((q(),H("input",{key:0,"onUpdate:modelValue":A[3]||(A[3]=m=>o.value.flavor=m),placeholder:"Flavor notes"},null,512)),[[re,o.value.flavor]]):(q(),H(ne,{key:1},[Ne(le(t.coffee.flavor||"–"),1)],64))]),I("div",Zh,[A[13]||(A[13]=I("strong",null,"Containers:",-1)),xe(Ui,{color:"green",assigned:t.coffee.in_green_container,activeCoffee:t.containerStatus?.green,coffee:t.coffee,isLoggedIn:t.isLoggedIn,onUpdateContainer:h},null,8,["assigned","activeCoffee","coffee","isLoggedIn"]),xe(Ui,{color:"grey",assigned:t.coffee.in_grey_container,activeCoffee:t.containerStatus?.grey,coffee:t.coffee,isLoggedIn:t.isLoggedIn,onUpdateContainer:h},null,8,["assigned","activeCoffee","coffee","isLoggedIn"])]),I("div",ef,[I("p",null,[I("strong",null,"Espresso ("+le(n.value?"Single":"Double")+"):",1)]),i.value?(q(),H(ne,{key:0},[Z(I("input",{"onUpdate:modelValue":A[4]||(A[4]=m=>o.value.recipe_in_grams=m),type:"number",placeholder:"In (g)"},null,512),[[re,o.value.recipe_in_grams,void 0,{number:!0}]]),A[14]||(A[14]=Ne(" → ")),Z(I("input",{"onUpdate:modelValue":A[5]||(A[5]=m=>o.value.recipe_out_grams=m),type:"number",placeholder:"Out (g)"},null,512),[[re,o.value.recipe_out_grams,void 0,{number:!0}]]),Z(I("input",{"onUpdate:modelValue":A[6]||(A[6]=m=>o.value.recipe_time_seconds=m),placeholder:"Time (s)"},null,512),[[re,o.value.recipe_time_seconds]]),Z(I("input",{"onUpdate:modelValue":A[7]||(A[7]=m=>o.value.recipe_temperature_c=m),type:"number",placeholder:"Temp (°C)"},null,512),[[re,o.value.recipe_temperature_c,void 0,{number:!0}]])],64)):(q(),H(ne,{key:1},[I("p",null,le(l.value)+"g → "+le(u.value)+"g",1),t.coffee.recipe_time_seconds||t.coffee.recipe_temperature_c?(q(),H("p",tf,le(t.coffee.recipe_time_seconds||"⏱")+" sec at "+le(t.coffee.recipe_temperature_c||"?")+"°C ",1)):Ge("",!0)],64)),i.value?Ge("",!0):(q(),H("button",{key:2,onClick:a},"Toggle Shot Size"))]),i.value?(q(),H("div",sf,[Z(I("textarea",{"onUpdate:modelValue":A[8]||(A[8]=m=>o.value.notes=m),placeholder:"Notes",rows:"2",style:{width:"100%"}},null,512),[[re,o.value.notes]])])):t.coffee.notes?(q(),H("p",rf,[A[15]||(A[15]=I("strong",null,"Notes:",-1)),Ne(" "+le(t.coffee.notes),1)])):Ge("",!0),i.value?Ge("",!0):(q(),H("div",nf,[c.value?(q(),H("button",{key:0,onClick:A[9]||(A[9]=m=>O.$emit("archive",t.coffee.id))},"✅ Mark as Finished")):(q(),H("button",{key:1,onClick:A[10]||(A[10]=m=>O.$emit("unarchive",t.coffee))},"🔁 Use Again"))])),i.value?(q(),H("div",of,[I("button",{onClick:v},"✅ Save"),I("button",{onClick:g},"❌ Cancel")])):Ge("",!0)]))}},lf=gr(af,[["__scopeId","data-v-0cd3c52d"]]),cf={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"}},uf={__name:"App",setup(t){const e=Ae(null),s=v=>{e.value=v},r=Ae([]),n=async()=>{const{data:v,error:k}=await Ee.from("coffee_beans").select("*").order("created_at",{ascending:!1});k?console.error(k):r.value=v},i=Ae({green:!1,grey:!1,origin:"",shop:""}),o=v=>{i.value=v},a=Be(()=>r.value.filter(v=>{const k=(!i.value.green||v.in_green_container)&&(!i.value.grey||v.in_grey_container),T=!i.value.origin||v.origin===i.value.origin,O=!i.value.shop||v.shop_name===i.value.shop;return k&&T&&O})),l=Be(()=>r.value.length),u=Be(()=>[...new Set(r.value.map(v=>v.origin).filter(Boolean))]),c=Be(()=>[...new Set(r.value.map(v=>v.shop_name).filter(Boolean))]);n();const h=async({coffee:v,container:k,assign:T})=>{if(T){const A=r.value.find(m=>k==="green"?m.in_green_container:m.in_grey_container);if(A&&A.id!==v.id){const m=`Container "${k}" is already used by "${A.name}". Replace it?`;if(!confirm(m))return;const E=k==="green"?{in_green_container:!1}:{in_grey_container:!1};await Ee.from("coffee_beans").update(E).eq("id",A.id)}}const O={in_green_container:k==="green"?T:v.in_green_container,in_grey_container:k==="grey"?T:v.in_grey_container};await Ee.from("coffee_beans").update(O).eq("id",v.id),await n()},d=async v=>{await Ee.from("coffee_beans").update({in_green_container:!1,in_grey_container:!1}).eq("id",v),await n()},g=v=>{console.log("Unarchive",v)};return(v,k)=>(q(),H(ne,null,[xe(Uh,{onUserChanged:s}),k[0]||(k[0]=I("h1",null,"☕ Coffee Tracker",-1)),e.value?(q(),Vr(Nh,{key:0})):Ge("",!0),xe(Wh,{origins:u.value,shops:c.value,"filtered-count":a.value.length,"total-count":l.value,onFilterChange:o},null,8,["origins","shops","filtered-count","total-count"]),I("div",cf,[(q(!0),H(ne,null,Fr(a.value,T=>(q(),Vr(lf,{key:T.id,coffee:T,isLoggedIn:!!e.value,containerStatus:v.containerStatus,onArchive:d,onUnarchive:g,onUpdateContainer:h,onDeleted:n},null,8,["coffee","isLoggedIn","containerStatus"]))),128))])],64))}},hf=gr(uf,[["__scopeId","data-v-6f9dd11b"]]);Tc(hf).mount("#app");
